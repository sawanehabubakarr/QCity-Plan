<!DOCTYPE html> 
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agent Dashboard - Futuristic Light</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Boxicons -->
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <!-- HTMX -->
  <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #fff, #fdf4ec);
      color: #333;
      min-height: 100vh;
    }

    /* Futuristic cards with subtle glow */
    .kpi, .card {
      border-radius: 1.2rem;
      background: #ffffffd9;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 20px rgba(253, 155, 49, 0.15);
      transition: all 0.3s ease-in-out;
    }

    .kpi:hover, .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 25px rgba(253, 155, 49, 0.25);
    }

    .kpi .text-secondary {
      font-weight: 500;
      color: #777 !important;
    }

    /* Futuristic table */
    table {
      border-collapse: separate;
      border-spacing: 0 8px;
    }

    table thead th {
      color: #fd9b31;
      font-weight: 600;
      border: none;
    }

    table tbody tr {
      background: #fff;
      border-radius: 0.8rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      transition: 0.3s;
    }

    table tbody tr:hover {
      background: #fff6ef;
    }

    /* Futuristic buttons */
    .btn-primary {
      background: linear-gradient(135deg, #fd9b31, #ffb866);
      border: none;
      color: #000;
      font-weight: 600;
      border-radius: 30px;
      box-shadow: 0 3px 12px rgba(253, 155, 49, 0.3);
      transition: all 0.3s;
    }

    .btn-primary:hover {
      box-shadow: 0 4px 20px rgba(253, 155, 49, 0.6);
      transform: scale(1.05);
    }

    .btn-light {
      background: #fafafa;
      border-radius: 30px;
      border: 1px solid #ddd;
      color: #444;
    }

    .form-control {
      background: #fff;
      border: 1px solid #ddd;
      color: #333;
      border-radius: 0.8rem;
    }

    .form-control:focus {
      border-color: #fd9b31;
      box-shadow: 0 0 10px rgba(253, 155, 49, 0.3);
    }

    /* Modal futuristic style */
    .modal-content {
      background: #fff;
      border: 1px solid #fd9b31;
      box-shadow: 0 0 25px rgba(253, 155, 49, 0.2);
      border-radius: 1rem;
    }

    .badge {
      border-radius: 0.5rem;
    }

    h5, h6 {
      color: #fd9b31;
    }
  </style>
</head>

<!--
If Quality Activations is within a range Then h3 with id Level text is set to level: (Quality Activations) * NLe level multiplier
0-45 = L1: (Quality Activations) * NLe 1.0
46-80 = L2: (Quality Activations) * NLe 1.1
81-125 = L3: (Quality Activations) * NLe 1.2
126-170 = L4: (Quality Activations) * NLe 1.3
171-215 = L5: (Quality Activations) * NLe 1.4
216-260 = L6: (Quality Activations) * NLe 1.5
-->


<body>
  <div class="container mt-4">
    <h3 class="text-center" id="Level">L5: (175) * Nle 1.4</h3>
    <!-- Fix Target of 96 -->
    <div class="progress mb-2" style="height:20px;padding: 0px;">
        <div class="progress-bar fw-bold" style="width:100%; background-color: #fd9b31; ">100%</div>
      </div>

    <!-- Quality Activationss -->
    <div class="row g-3 mb-4">
      <div class="col-md-3 col-12 text-center">
        <div class="card p-3 kpi">
          <div class="text-secondary">Quality Activations</div>
          <div class="fs-3 fw-bold">175</div>
        </div>
      </div>
      <div class="col-md-3 col-12 text-center">
        <div class="card p-3 kpi">
          <div class="text-secondary">Non-Quality Activations</div>
          <div class="fs-3 fw-bold">4</div>
        </div>
      </div>
      <div class="col-md-3 col-6 text-center">
        <div class="card p-3 kpi">
          <div class="text-secondary">Reached Limit</div>
          <div class="fs-3 fw-bold">3</div>
        </div>
      </div>
      <div class="col-md-3 col-6 text-center">
        <div class="card p-3 kpi">
          <div class="text-secondary">Already Done</div>
          <div class="fs-3 fw-bold">1</div>
        </div>
      </div>
    </div>

    <!-- Upload Card -->
    <div class="card p-4 mb-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="mb-0"><i class='bx bxs-cloud-upload me-2'></i>New Activation</h5>
        <span class="text-secondary text-end small">Status: <span class="badge bg-warning text-dark">Pending</span></span>
      </div>
      <form id="form-activation" hx-post="api/activations.php" hx-target="#agent-table-body" hx-swap="beforeend"
        enctype="multipart/form-data">
        <div class="row g-3">
          <div class="col-md-4 col-6">
            <label class="form-label form-section-title">Customer Mobile</label>
            <input type="tel" name="customer_phone" class="form-control" placeholder="e.g. 31 123456" required>
          </div>
          <div class="col-md-4 col-6">
            <label class="form-label form-section-title">ID Snapshot</label>
            <input type="file" name="id_snapshot" class="form-control" accept="image/*" required>
          </div>
          <div class="col-md-4">
            <label class="form-label form-section-title">Customer Name (OCR / Manual)</label>
            <input type="text" name="customer_name" class="form-control" placeholder="Full name from ID" required>
          </div>
          <div class="col-12 d-flex gap-2 mt-2">
            <button class="btn btn-primary"><i class='bx bx-send me-1'></i>Submit</button>
            <button type="reset" class="btn btn-light">Clear</button>
          </div>
        </div>
      </form>
    </div>

    <!-- Activations Table -->
    <div class="card p-3">
      <h5 class="mb-3"><i class='bx bxs-data me-2'></i>Activations</h5>

      <div class="d-flex gap-2 pb-3">
        <div>
          <label for="startDate" class="small">Start Date</label>
          <input type="date" id="startDate" class="form-control form-control-sm" />
        </div>
        <div>
          <label for="endDate" class="small">End Date</label>
          <input type="date" id="endDate" class="form-control form-control-sm" />
        </div>
        <button class="btn btn-sm btn-outline-success mt-auto">
          <i class='bx bx-filter-alt me-1'></i>
        </button>
        <button class="btn btn-sm btn-outline-danger mt-auto">
          <i class='bx bx-x-circle me-1'></i>
        </button>
      </div>

      <!-- Table -->
      <div class="table-responsive">
        <table class="table align-middle">
          <thead>
            <tr>
              <th>Phone</th>
              <th>Status</th>
              <th>Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="agent-table-body">
            <tr>
              <td>31 987654</td>
              <td><span class="badge bg-warning text-dark">Pending</span></td>
              <td>2025-08-30</td>
              <td>
                <button class="btn btn-sm btn-outline-dark" data-bs-toggle="modal"
                  data-bs-target="#viewIdModal">
                  <i class='bx bx-image-alt'></i> ID
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ID Viewer Modal -->
  <div class="modal fade" id="viewIdModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header border-0">
          <h5 class="modal-title">Mobile: 31987654</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body text-center">
          <img id="modalImg" src="IdCard.png" class="img-fluid rounded" alt="ID" />
        </div>
        <h6 class="px-3 text-center" id="Reference">
          Transaction Id: PP250719.1748.B76546 Transfer Successful to 75927082 CONTEH of transaction amount: 20.00, charges: 0.87, GST: 0.13. Net debit amount :21.00, your new balance is: 3.37.
        </h6>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
